// ----- Colors -----

$dark: #444

// ----- Typography -----

@import url("//fonts.googleapis.com/css?family=Actor|Faster+One")

$heading-font: "Actor", "Helvetica Neue", Helvetica, Arial, sans-serif
$label-font:   "Helvetica Neue", Helvetica, Arial, sans-serif

@mixin headings
  h1, h2, h3, h4, h5, h6
    @content

header
  h1
    font-family: "Faster One"

@include headings
  font-family: $heading-font
  font-weight: 300

// ----- Layout -----

@mixin at-width($width)
  @media all and (min-width: $width)
    @content

@mixin below-width($width)
  @media all and (max-width: $width - 1)
    @content

@mixin hazy($opacity)
  opacity: $opacity
  filter: alpha(opacity=$opacity * 100)

@mixin border-box
  box-sizing: border-box
  -moz-box-sizing: border-box
  -webkit-box-sizing: border-box

@mixin rotate($amount)
  transform: rotate($amount)
  -moz-transform: rotate($amount)
  -webkit-transform: rotate($amount)

body.loading
  #expenses-table
    display: none

  #expenses-chart
    visibility: hidden

  &:before
    @include hazy(0.75)

    content: ""
    display: block
    position: fixed
    top: 0
    bottom: 0
    left: 0
    right: 0
    background: #fff url(/images/loading.gif) no-repeat center
    z-index: 1

main
  @include at-width(960px)
    width: 75%
    min-width: 960px
    margin: auto

  @include below-width(960px)
    width: 100%

  header
    font-size: 200%
    text-align: center

  form
    position: relative
    margin-top: 15px

    &:after
      content: ""
      display: block
      clear: both

    input[type="text"]
      @include border-box

      display: block
      float: left
      padding: 10px 0
      border: none
      border-bottom: 1px solid black
      font-size: 200%

      &:first-of-type
        width: 74%
        margin-right: 1%

      &:nth-of-type(2)
        width: 25%

    // This is a hack!
    input[type="submit"]
      visibility: hidden

  table
    min-width: 50%
    margin: auto
    font-family: $label-font
    border-collapse: collapse

    th, td
      padding: 0 1em
      text-align: left

    th:first-child, td:first-child
      padding-left: 0

    th:nth-child(2), td:nth-child(2),
    th:last-child, td:last-child
      text-align: right

    td:last-child:before
      content: "$"
      display: block
      float: left
      margin-right: 1em

    thead, tbody
      tr:last-child
        th, td
          padding-bottom: 25px

    tfoot
      tr
        background-color: #def

      td
        height: 50px
        font-weight: bold
        vertical-align: middle

  #spending-bar
    position: fixed
    top: 0
    bottom: 0
    right: 0
    width: 50px

    .remaining
      position: absolute
      bottom: 0
      left: 0
      right: 0
      background-color: #080

      span
        @include rotate(90deg)

        display: block
        position: absolute
        top: 10px
        width: 50px
        color: #fff
        font-family: $label-font
        font-size: 40px
        line-height: 50px
        white-space: nowrap
